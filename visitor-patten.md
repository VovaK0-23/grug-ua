### Відвідувач (Visitor Pattern)

**Visitor pattern** — це патерн проектування програмного забезпечення, який дозволяє відокремити алгоритм від структури об'єкта. Завдяки цьому розділенню нові операції можна додавати до існуючих структур об'єктів, не змінюючи самі ці структури.

### Чому це погано в ООП?

У контексті об'єктно-орієнтованого програмування (ООП) **Visitor pattern** можна вважати проблематичним через кілька причин:

1. **Порушення принципу локальності поведінки (LoB):**
   - В ООП важливо, щоб поведінка була пов'язана безпосередньо з об'єктом, до якого вона належить. Використання Visitor pattern переносить поведінку в окремий клас, що робить код менш інтуїтивно зрозумілим і важчим для підтримки. Замість того, щоб розміщувати логіку поруч із даними, ми відокремлюємо їх, що суперечить принципу локальності поведінки.

2. **Збільшення складності та залежностей:**
   - Використання Visitor pattern призводить до створення додаткових класів і методів, що ускладнює структуру коду.

### Чому Visitor pattern не є проблемою поза ООП?

В контекстах, де об'єктно-орієнтований підхід не є домінуючим, Visitor pattern зазвичай не є проблемою. Наприклад, у фреймворках, таких як React, розробники часто не створюють класи для даних, які вони отримують від бекенду. Замість цього вони використовують функціональні підходи, такі як хуки або утиліти, які додають функціональність до типів даних без необхідності створення нових класів і додавання методів до них.

#### Приклад у React:

Замість того, щоб створювати класи і додавати методи для обробки даних, які приходять з бекенду, розробники в React можуть створювати прості функції або хуки, які виконують необхідні операції. Це дозволяє уникнути зайвої складності і робить код більш реюзабельним.

**Приклад коду:**

```javascript
// Утиліта для форматування даних
function formatData(data) {
    // обробляємо дані і повертаємо результат
    return data.map(item => ({ ...item, formatted: true }));
}

// Використання утиліти в компоненті
const MyComponent = ({ data }) => {
    const formattedData = formatData(data);

    return (
        <div>
            {formattedData.map(item => (
                <div key={item.id}>{item.name}</div>
            ))}
        </div>
    );
};
```
